<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberAkinator Inteligente</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.6.6/firebase-app-compat.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.6.6/firebase-firestore-compat.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/connor.css">
</head>
<body>
    <header>
        <div class="logo">
    
            <img src="../rsc/GUARDIAN NETn.png" alt="" style="width: 150px;">
          </div>
        
          <nav>
        
            <ul>
              <a href="../html/index.html" title="Home">
                <li>Home</li>
              </a>
              <a href="../html/anti.html" title="Antivirus">
                <li>Anti Virus</li>
              </a>
              <a href="../html/av.html" title="Info">
                <li>Informacion</li>
              </a>
              <a href="../html/connor.html" title="connor">
                <li>C.O.N.N.O.R</li>
              </a>
              <a href="../html/login.html" title="singin">
                <li>Iniciar Sesion / Registrarse</li>
              </a>
              <button id="btnCerrarSesion" class="btn-cerrar-sesion">Cerrar Sesión</button>
            </ul>
        
            <div class="dummy-mobile-menu">
              <i class="bi bi-list"></i>
            </div>
        
          </nav>
        
          <div class="nav-socials">
            <a href="javascript:void(0);" title="Instagram"><i class="bi bi-instagram"></i></a>
            <a href="javascript:void(0);" title="Twitter"><i class="bi bi-twitter"></i></i></a>
            <a href="javascript:void(0);" title="Snapchat"><i class="bi bi-snapchat"></i></a>
          </div>
    </header>
    <div class="container">
        <h1>CyberAkinator</h1>
        <div id="question" class="question">
            ¿Listo para comenzar?
        </div>
        <div class="buttons">
            <button onclick="answer('si')">Sí</button>
            <button onclick="answer('no')">No</button>
            <button onclick="answer('no_se')">No sé</button>
        </div>
        <div id="remaining-threats"></div>
        <div id="result"></div>
        <div id="description" class="description" style="display: none;"></div>
        <div id="confidence" class="confidence"></div>
        <button onclick="resetGame()" class="reset-btn">Reiniciar</button>
    </div>
    <div id="footer-container"></div>

    <footer>
    
        <div class="logo-effect">
          <div>
            <div>
              <div>
                <div>
                  <div>
                    <div>
                      <div>
                        <div>
                          <div>
                            <b>Guardian</b>
                            <b>Net</b>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      
        <div class="footer-info">
      
          <div class="phone-us">
            <i class="bi bi-phone-fill"></i>
            <a href="javascript:void(0)" title="Phone Us">Llamanos</a>
          </div>
      
          <div class="message-us">
            <i class="bi bi-chat-left-dots-fill"></i>
            <a href="javascript:void(0);" title="Message Us">Contactanos</a>
          </div>
      
          <div class="locate-us">
            <i class="bi bi-pin-map-fill"></i>
            <a href="javascript:void(0);" title="Locate Us">Siguenos</a>
          </div>
        </div>
      
      </footer>
    <script>
        // Estructura del árbol de decisión
        const decisionTree = {
            impacto: {
                question: "¿El ataque tiene un impacto directo en los datos o sistemas?",
                si: "tipoImpacto",
                no: "interaccionUsuario"
            },
            tipoImpacto: {
                question: "¿El ataque modifica o cifra los datos?",
                si: "cifrado",
                no: "disponibilidad"
            },
            cifrado: {
                question: "¿Se pide un rescate para recuperar los datos?",
                si: "RESULTADO:Ransomware",
                no: "modificacionSistema"
            },
            disponibilidad: {
                question: "¿El ataque afecta la disponibilidad del servicio?",
                si: "origenAtaque",
                no: "datosPersonales"
            },
            origenAtaque: {
                question: "¿El ataque proviene de múltiples fuentes?",
                si: "RESULTADO:DDoS",
                no: "RESULTADO:DoS"
            },
            modificacionSistema: {
                question: "¿El ataque se oculta en el sistema operativo?",
                si: "RESULTADO:Rootkit",
                no: "RESULTADO:Virus"
            },
            interaccionUsuario: {
                question: "¿El ataque requiere engañar al usuario?",
                si: "tipoEngano",
                no: "propagacion"
            },
            tipoEngano: {
                question: "¿El ataque está dirigido a objetivos específicos?",
                si: "nivelObjetivo",
                no: "RESULTADO:Phishing"
            },
            nivelObjetivo: {
                question: "¿El objetivo son ejecutivos de alto nivel?",
                si: "RESULTADO:Whaling",
                no: "RESULTADO:Spear Phishing"
            },
            propagacion: {
                question: "¿El ataque se propaga automáticamente?",
                si: "RESULTADO:Gusano",
                no: "tipoRecoleccion"
            },
            tipoRecoleccion: {
                question: "¿El ataque recolecta información del usuario?",
                si: "tipoInformacion",
                no: "recursos"
            },
            tipoInformacion: {
                question: "¿El ataque registra las pulsaciones de teclado?",
                si: "RESULTADO:Keylogger",
                no: "RESULTADO:Spyware"
            },
            recursos: {
                question: "¿El ataque consume recursos del sistema para beneficio del atacante?",
                si: "RESULTADO:Cryptojacker",
                no: "publicidad"
            },
            publicidad: {
                question: "¿El ataque muestra publicidad no deseada?",
                si: "RESULTADO:Adware",
                no: "RESULTADO:Troyano"
            }
        };

        // Descripciones de los ataques
        const descriptions = {
            "Ransomware": "Malware que cifra archivos y exige un rescate para recuperarlos. Es especialmente peligroso para empresas y organizaciones.",
            "DDoS": "Ataque de Denegación de Servicio Distribuido que sobrecarga servidores desde múltiples fuentes para hacerlos inaccesibles.",
            "DoS": "Ataque de Denegación de Servicio que sobrecarga un servidor desde una única fuente.",
            "Rootkit": "Malware que se oculta profundamente en el sistema operativo para evitar su detección y mantener acceso privilegiado.",
            "Virus": "Malware que infecta archivos y programas, modificándolos y propagándose a través de ellos.",
            "Phishing": "Técnica de engaño masivo que busca robar credenciales mediante sitios web o correos electrónicos falsos.",
            "Spear Phishing": "Phishing dirigido a objetivos específicos, usando información personalizada para hacer el engaño más creíble.",
            "Whaling": "Phishing altamente personalizado dirigido específicamente a ejecutivos de alto nivel o personas importantes.",
            "Gusano": "Malware que se propaga automáticamente por la red, sin necesidad de infectar archivos.",
            "Keylogger": "Software malicioso que registra las pulsaciones de teclas para robar contraseñas y otra información sensible.",
            "Spyware": "Software que recopila información del usuario sin su consentimiento.",
            "Cryptojacker": "Malware que usa recursos del sistema para minar criptomonedas sin el conocimiento del usuario.",
            "Adware": "Software que muestra publicidad no deseada y puede recopilar datos de navegación.",
            "Troyano": "Malware que se disfraza como software legítimo para engañar al usuario."
        };

        let currentNode = "impacto";
        let remainingThreats = new Set(Object.keys(descriptions));

        function updateRemainingThreats() {
            const remainingCount = remainingThreats.size;
            document.getElementById('remaining-threats').textContent = 
                `Amenazas posibles restantes: ${remainingCount}`;
        }

        function filterThreats(answer, question) {
            // Lógica para filtrar amenazas basada en las respuestas
            switch(currentNode) {
                case "impacto":
                    if (answer === 'no') {
                        remainingThreats.delete("Ransomware");
                        remainingThreats.delete("DDoS");
                        remainingThreats.delete("DoS");
                        remainingThreats.delete("Rootkit");
                    }
                    break;
                case "tipoImpacto":
                    if (answer === 'no') {
                        remainingThreats.delete("Ransomware");
                        remainingThreats.delete("Rootkit");
                        remainingThreats.delete("Virus");
                    }
                    break;
                // Añadir más casos según sea necesario
            }
            updateRemainingThreats();
        }

        function answer(response) {
            const node = decisionTree[currentNode];   
            if (!node) {
                return;
            }

            filterThreats(response, node.question);

            let nextNode;
            if (response === 'si') {
                nextNode = node.si;
            } else if (response === 'no') {
                nextNode = node.no;
            } else {
                // Si la respuesta es "no sé", toma el camino más probable
                nextNode = node.si;
            }

            if (nextNode.startsWith("RESULTADO:")) {
                const resultado = nextNode.split(":")[1];
                showResult(resultado);
            } else {
                currentNode = nextNode;
                document.getElementById('question').textContent = decisionTree[nextNode].question;
            }
        }

        function showResult(resultado) {
            document.getElementById('question').style.display = 'none';
            document.getElementById('result').textContent = `¡Creo que es un ${resultado}!`;
            document.getElementById('description').style.display = 'block';
            document.getElementById('description').textContent = descriptions[resultado] || 
                "Este es un tipo de ataque relacionado con la ciberseguridad.";
            
            const confidence = ((1 - (remainingThreats.size / Object.keys(descriptions).length)) * 100).toFixed(1);
            document.getElementById('confidence').textContent = 
                `Nivel de confianza: ${confidence}%`;
        }

        function resetGame() {
            currentNode = "impacto";
            remainingThreats = new Set(Object.keys(descriptions));
            document.getElementById('question').style.display = 'block';
            document.getElementById('question').textContent = decisionTree[currentNode].question;
            document.getElementById('result').textContent = '';
            document.getElementById('description').style.display = 'none';
            document.getElementById('confidence').textContent = '';
            updateRemainingThreats();
        }

        // Iniciar el juego
        resetGame();
    </script>
</body>
</html>